@inherits Umbraco.Cms.Web.Common.Macros.PartialViewMacroPage

@using Microsoft.AspNetCore.Http.Extensions
@using Umbraco.Cms.Web.Common.Models
@using Umbraco.Cms.Web.Website.Controllers
@using Umbraco.Extensions

@{
    var isLoggedIn = Context.User?.Identity?.IsAuthenticated ?? false;
    var logoutModel = new PostRedirectModel();
    // You can modify this to redirect to a different URL instead of the current one
    logoutModel.RedirectUrl = null;
}

@if (isLoggedIn)
{
    <div class="login-status">

        @using (Html.BeginUmbracoForm<UmbLoginStatusController>("HandleLogout", new { RedirectUrl = logoutModel.RedirectUrl }, new { @class = "frm-secondary" }))
        {
            <button type="submit" class="btn btn-primary hover:text-teal-400">
                <i class="fa fa-sign-out"></i> Log out <strong>(@Context?.User?.Identity?.Name)</strong>
            </button>
        }

    </div>
}
else
{
    <a href="/login" class="hover:text-teal-400"><i class="fa fa-sign-in"></i>  Login</a>
}